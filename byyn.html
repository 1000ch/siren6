<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="google-site-verification" content="lC35WW3W-lsbLS4budw6dEXX7vHAhTQ3CM3g_f0div8" />
  <link rel="shortcut icon" type="image/x-icon" href="./assets/favicon.ico">
  <meta name="description" content="【風来のシレン6】簡単にボヨヨンチェックできるツールです！スマホでも快適に使えるよ！">
  <!-- レスポンシブ -->
  <script src="https://cdn.jsdelivr.net/npm/viewport-extra@1.0.3/dist/viewport-extra.min.js"></script>
  <script>new ViewportExtra(375)</script>
  <!-- Primary Meta Tags -->
  <title>シレン6 簡単ボヨヨンチェッカー</title>
  <meta name="title" content="シレン6 簡単ボヨヨンチェッカー" />
  <meta name="description" content="【風来のシレン6】簡単にボヨヨンチェックできるツールです！スマホでも快適に使えるよ！" />
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://mogamoga1024.github.io/siren6/byyn.html" />
  <meta property="og:title" content="シレン6 簡単ボヨヨンチェッカー" />
  <meta property="og:description" content="【風来のシレン6】簡単にボヨヨンチェックできるツールです！スマホでも快適に使えるよ！" />
  <meta property="og:image" content="https://mogamoga1024.github.io/siren6/byyn.htmlassets/ogp_gamara.png" />
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://mogamoga1024.github.io/siren6/byyn.html" />
  <meta property="twitter:title" content="シレン6 簡単ボヨヨンチェッカー" />
  <meta property="twitter:description" content="【風来のシレン6】簡単にボヨヨンチェックできるツールです！スマホでも快適に使えるよ！" />
  <meta property="twitter:image" content="https://mogamoga1024.github.io/siren6/byyn.htmlassets/ogp_gamara.png" />
  <!-- Meta Tags Generated with https://metatags.io -->
  <title>シレン6 簡単ボヨヨンチェッカー</title>
  <link rel="stylesheet" href="./assets/byyn/style.css">
  <link rel="stylesheet" href="./assets/byyn/mobile.css">
</head>
<!--
  「body onclick=""」の理由
  iPhoneのGoogleアプリのブラウザだとinputのフォーカスが背景を押しても外れない仕様のため、それに対応するためのハック
-->
<body onclick="">
  <div id="app" v-cloak>
    <h1>シレン6 簡単ボヨヨンチェッカー</h1>

    <div id="config-area" class="config-container"
         :class="{disabled: existsResult}">
      <div>
        <div class="config">
          <label for="input-size">幅</label>
          <plus-minus-input-numbur
            id="input-size"
            :min="roomSizeMin"
            :max="roomSizeMax"
            v-model="roomSize"
            @change="onChangeRoomSize">
        </div>
        <div class="config" style="margin-top: 8px;">
          <label for="fill-type">塗</label>
          <div class="radio-btn-container">
            <div class="radio-btn fill-type-byyn"
                 :class="{selected: mainFillType === BYYN}"
                 @click="mainFillType = BYYN">ボヨヨン</div>
            <div class="radio-btn fill-type-tuti"
                 :class="{selected: mainFillType === TUTI}"
                 @click="mainFillType = TUTI">土塊</div>
          </div>
        </div>
      </div>
      <div>
        <div class="config">
          <input type="checkbox" id="chkbox-udewa" v-model="useUdewa">
          <label for="chkbox-udewa">ボヨヨン腕輪</label>
        </div>
        <div class="config">
          <input type="checkbox" id="chkbox-tubo" v-model="isTubo">
          <label for="chkbox-tubo">壺を投げる</label>
        </div>
      </div>
    </div>

    <hr>

    <div id="action-btn-area">
      <template v-if="pathList.length === 0">
        <div class="action-btn"
             @click="onClickSearch">調べる</div>
        <div class="action-btn reset"
             @click="onClickReset">リセット</div>
      </template>
      <template v-else>
        <div class="action-btn"
             @click="onClickSimulate">シミュる</div>
        <div class="action-btn reset"
             @click="onClickCorrect">訂正</div>
      </template>
    </div>

    <div id="path-list-container" v-show="isClickSearch">
      <template v-if="existsResult">
        <div v-show="pathList.length > 1"
             id="path-list">
          <div v-for="(_, index) in pathList"
               class="path-btn"
               :class="{selected: pathIndex === index}"
               @click="onClickPathList(index)">
            {{index + 1}}
          </div>
        </div>
        <div class="message">
          <div>{{`${pathList[pathIndex][0].dir.name}に投げる`}}</div>
          <div v-show="pathList[pathIndex].at(-1).pos === null">
            画面外で消失する可能性あり
          </div>
        </div>
      </template>
      <template v-else>
        アイテム増殖不可
      </template>
    </div>
    
    <div id="room-container">
      <table id="dummy-room" ref="dummyRoom">
        <tr v-for="roomRow in dummyRoom">
          <td v-for="(type) in roomRow"
              :class="type"></td>
        </tr>
      </table>
      <table id="room" ref="room">
        <tr v-for="(roomRow, row) in room">
          <td v-for="(type, col) in roomRow"
              :class="type"
              :data-row="row"
              :data-col="col"
              @mousedown="onMouseDownCell"
              @mouseenter="onMouseEnterCell"
              @touchmove="onTouchMoveCell">
              <img v-if="start !== null && row === start.pos.row && col === start.pos.col"
                   src="./assets/top_left_arrow.png"
                   :class="arrowClassName">
            </td>
        </tr>
      </table>
    </div>
  </div>

  <script src="./dist/byyn/main.js"></script>
</body>