import { createFuncItemListPush, grouping } from './item';

export const tueList = [];
const itemListPush = createFuncItemListPush(tueList, false);
itemListPush('ただの杖[0]', 500, 200, false);
itemListPush('ただの杖[1]', 600, 240, false);
itemListPush('ただの杖[2]', 700, 280, false);
itemListPush('ただの杖[3]', 800, 320, false);
itemListPush('ただの杖[4]', 900, 360, false);
itemListPush('ただの杖[5]', 1000, 400);
itemListPush('ただの杖[6]', 1100, 440);
itemListPush('ただの杖[7]', 1200, 480);
itemListPush('かなしばりの杖[0]', 500, 200, false);
itemListPush('かなしばりの杖[1]', 600, 240, false);
itemListPush('かなしばりの杖[2]', 700, 280, false);
itemListPush('かなしばりの杖[3]', 800, 320, false);
itemListPush('かなしばりの杖[4]', 900, 360);
itemListPush('かなしばりの杖[5]', 1000, 400);
itemListPush('かなしばりの杖[6]', 1100, 440);
itemListPush('封印の杖[0]', 500, 200, false);
itemListPush('封印の杖[1]', 600, 240, false);
itemListPush('封印の杖[2]', 700, 280, false);
itemListPush('封印の杖[3]', 800, 320, false);
itemListPush('封印の杖[4]', 900, 360);
itemListPush('封印の杖[5]', 1000, 400);
itemListPush('封印の杖[6]', 1100, 440);
itemListPush('身代わりの杖[0]', 2000, 800, false);
itemListPush('身代わりの杖[1]', 2100, 840, false);
itemListPush('身代わりの杖[2]', 2200, 880, false);
itemListPush('身代わりの杖[3]', 2300, 920, false);
itemListPush('身代わりの杖[4]', 2400, 960);
itemListPush('身代わりの杖[5]', 2500, 1000);
itemListPush('身代わりの杖[6]', 2600, 1040);
itemListPush('痛み分けの杖[0]', 1000, 400, false);
itemListPush('痛み分けの杖[1]', 1100, 440, false);
itemListPush('痛み分けの杖[2]', 1200, 480, false);
itemListPush('痛み分けの杖[3]', 1300, 520, false);
itemListPush('痛み分けの杖[4]', 1400, 560, false);
itemListPush('痛み分けの杖[5]', 1500, 600);
itemListPush('痛み分けの杖[6]', 1600, 640);
itemListPush('痛み分けの杖[7]', 1700, 680);
itemListPush('一時しのぎの杖[0]', 1000, 400, false);
itemListPush('一時しのぎの杖[1]', 1100, 440, false);
itemListPush('一時しのぎの杖[2]', 1200, 480, false);
itemListPush('一時しのぎの杖[3]', 1300, 520, false);
itemListPush('一時しのぎの杖[4]', 1400, 560);
itemListPush('一時しのぎの杖[5]', 1500, 600);
itemListPush('一時しのぎの杖[6]', 1600, 640);
itemListPush('吹き飛ばしの杖[0]', 500, 200, false);
itemListPush('吹き飛ばしの杖[1]', 600, 240, false);
itemListPush('吹き飛ばしの杖[2]', 700, 280, false);
itemListPush('吹き飛ばしの杖[3]', 800, 320, false);
itemListPush('吹き飛ばしの杖[4]', 900, 360, false);
itemListPush('吹き飛ばしの杖[5]', 1000, 400);
itemListPush('吹き飛ばしの杖[6]', 1100, 440);
itemListPush('吹き飛ばしの杖[7]', 1200, 480);
itemListPush('場所がえの杖[0]', 500, 200, false);
itemListPush('場所がえの杖[1]', 600, 240, false);
itemListPush('場所がえの杖[2]', 700, 280, false);
itemListPush('場所がえの杖[3]', 800, 320, false);
itemListPush('場所がえの杖[4]', 900, 360, false);
itemListPush('場所がえの杖[5]', 1000, 400);
itemListPush('場所がえの杖[6]', 1100, 440);
itemListPush('場所がえの杖[7]', 1200, 480);
itemListPush('飛びつきの杖[0]', 500, 200, false);
itemListPush('飛びつきの杖[1]', 600, 240, false);
itemListPush('飛びつきの杖[2]', 700, 280, false);
itemListPush('飛びつきの杖[3]', 800, 320, false);
itemListPush('飛びつきの杖[4]', 900, 360, false);
itemListPush('飛びつきの杖[5]', 1000, 400);
itemListPush('飛びつきの杖[6]', 1100, 440);
itemListPush('飛びつきの杖[7]', 1200, 480);
itemListPush('ガイコツまどうの杖[0]', 1000, 400, false);
itemListPush('ガイコツまどうの杖[1]', 1100, 440, false);
itemListPush('ガイコツまどうの杖[2]', 1200, 480, false);
itemListPush('ガイコツまどうの杖[3]', 1300, 520, false);
itemListPush('ガイコツまどうの杖[4]', 1400, 560, false);
itemListPush('ガイコツまどうの杖[5]', 1500, 600);
itemListPush('ガイコツまどうの杖[6]', 1600, 640);
itemListPush('ガイコツまどうの杖[7]', 1700, 680);
itemListPush('感電の杖[0]', 500, 200, false);
itemListPush('感電の杖[1]', 600, 240, false);
itemListPush('感電の杖[2]', 700, 280, false);
itemListPush('感電の杖[3]', 800, 320, false);
itemListPush('感電の杖[4]', 900, 360);
itemListPush('感電の杖[5]', 1000, 400);
itemListPush('感電の杖[6]', 1100, 440);
itemListPush('トンネルの杖[0]', 700, 280, false);
itemListPush('トンネルの杖[1]', 800, 320, false);
itemListPush('トンネルの杖[2]', 900, 360, false);
itemListPush('トンネルの杖[3]', 1000, 400, false);
itemListPush('トンネルの杖[4]', 1100, 440);
itemListPush('トンネルの杖[5]', 1200, 480);
itemListPush('トンネルの杖[6]', 1300, 520);
itemListPush('土塊の杖[0]', 700, 280, false);
itemListPush('土塊の杖[1]', 800, 320, false);
itemListPush('土塊の杖[2]', 900, 360, false);
itemListPush('土塊の杖[3]', 1000, 400, false);
itemListPush('土塊の杖[4]', 1100, 440);
itemListPush('土塊の杖[5]', 1200, 480);
itemListPush('土塊の杖[6]', 1300, 520);
itemListPush('転ばぬ先の杖[0]', 500, 200, false);
itemListPush('転ばぬ先の杖[1]', 600, 240, false);
itemListPush('転ばぬ先の杖[2]', 700, 280, false);
itemListPush('転ばぬ先の杖[3]', 800, 320, false);
itemListPush('転ばぬ先の杖[4]', 900, 360, false);
itemListPush('転ばぬ先の杖[5]', 1000, 400);
itemListPush('転ばぬ先の杖[6]', 1100, 440);
itemListPush('転ばぬ先の杖[7]', 1200, 480);
itemListPush('導きの杖[0]', 700, 280, false);
itemListPush('導きの杖[1]', 800, 320, false);
itemListPush('導きの杖[2]', 900, 360);
itemListPush('導きの杖[3]', 1000, 400);
itemListPush('導きの杖[4]', 1100, 440);
itemListPush('加速の杖[0]', 700, 280, false);
itemListPush('加速の杖[1]', 800, 320, false);
itemListPush('加速の杖[2]', 900, 360, false);
itemListPush('加速の杖[3]', 1000, 400, false);
itemListPush('加速の杖[4]', 1100, 440);
itemListPush('加速の杖[5]', 1200, 480);
itemListPush('加速の杖[6]', 1300, 520);
itemListPush('鈍足の杖[0]', 700, 280, false);
itemListPush('鈍足の杖[1]', 800, 320, false);
itemListPush('鈍足の杖[2]', 900, 360, false);
itemListPush('鈍足の杖[3]', 1000, 400, false);
itemListPush('鈍足の杖[4]', 1100, 440);
itemListPush('鈍足の杖[5]', 1200, 480);
itemListPush('鈍足の杖[6]', 1300, 520);
itemListPush('幸せの杖[0]', 1000, 400, false);
itemListPush('幸せの杖[1]', 1100, 440, false);
itemListPush('幸せの杖[2]', 1200, 480, false);
itemListPush('幸せの杖[3]', 1300, 520, false);
itemListPush('幸せの杖[4]', 1400, 560);
itemListPush('幸せの杖[5]', 1500, 600);
itemListPush('幸せの杖[6]', 1600, 640);
itemListPush('不幸の杖[0]', 1000, 400, false);
itemListPush('不幸の杖[1]', 1100, 440, false);
itemListPush('不幸の杖[2]', 1200, 480, false);
itemListPush('不幸の杖[3]', 1300, 520, false);
itemListPush('不幸の杖[4]', 1400, 560);
itemListPush('不幸の杖[5]', 1500, 600);
itemListPush('不幸の杖[6]', 1600, 640);
itemListPush('桃まんの杖[0]', 2000, 800, false);
itemListPush('桃まんの杖[1]', 2100, 840, false);
itemListPush('桃まんの杖[2]', 2200, 880, false);
itemListPush('桃まんの杖[3]', 2300, 920, false);
itemListPush('桃まんの杖[4]', 2400, 960);
itemListPush('桃まんの杖[5]', 2500, 1000);
itemListPush('桃まんの杖[6]', 2600, 1040);

const tueGroupList = grouping(tueList);
const tueBaseList = tueGroupList.map(tueGroup => ({
    name: tueGroup[0].name.slice(0, -3),
    kaine: tueGroup[0].kaine,
    urine: tueGroup[0].urine
}));

export const tueNameList = tueBaseList.map(tue => tue.name);

export function findAllTueList() {
    return tueGroupList.sort((a, b) => a[0].kaine - b[0].kaine).flat().filter(tue => tue.unused || tue.name.endsWith('[0]'));
}

export function findTueCountList(name, nedan, searchNedanType) {
    let nedan0 = 0;
    for (const tue of tueBaseList) {
        if (tue.name === name) {
            nedan0 = tue[searchNedanType];
        }
    }
    if (nedan0 === 0) {
        return [];
    }
    
    const result = [];
    const nedanDelta = searchNedanType === 'kaine' ? 100 : 40;

    for (let count = 0; count <= 99; count++) {
        const tmpNedan = nedan0 + nedanDelta * count;
        if (nedan === Math.floor(tmpNedan * 0.87)) {
            result.push({isNoroi: true, count});
        }
        else if (nedan === tmpNedan) {
            result.push({isNoroi: false, count});
            break;
        }
    }
    
    return result;
}

